import{c as y,r as t,j as e,b as x}from"./index-B3DdEt-j.js";import{A as _}from"./alert-circle-DcNntv0N.js";const m=y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),P=({enabled:n=!0,showShareButton:a=!0})=>{const[l,c]=t.useState(!1),[d,p]=t.useState(""),o=t.useCallback(()=>{c(!1)},[]),u=t.useCallback(()=>{navigator.share?navigator.share({title:document.title,url:window.location.href}).catch(()=>{}):(navigator.clipboard.writeText(window.location.href),alert("Посилання скопійовано!")),o()},[o]);return t.useEffect(()=>{if(!n)return;const i=h=>{var r;const s=(r=window.getSelection())==null?void 0:r.toString();s&&s.length>50&&(h.preventDefault(),p(s),c(!0),setTimeout(()=>{c(!1)},5e3))};return document.addEventListener("copy",i),()=>{document.removeEventListener("copy",i)}},[n]),l?e.jsxs("div",{className:"copyProtection",children:[e.jsx("div",{className:"copyProtection__overlay",onClick:o}),e.jsxs("div",{className:"copyProtection__modal",children:[e.jsx("div",{className:"copyProtection__icon copyProtection__icon--warning",children:e.jsx(_,{size:48})}),e.jsx("h2",{className:"copyProtection__title",children:"Захист авторських прав ⚠️"}),e.jsx("p",{className:"copyProtection__text",children:"Цей контент захищений авторськими правами"}),e.jsxs("div",{className:"copyProtection__info",children:[e.jsx(m,{size:16}),e.jsxs("span",{children:["Скопійовано: ",d.substring(0,50),"..."]})]}),e.jsx("p",{className:"copyProtection__subtitle",children:"Натомість ви можете поділитись посиланням на цю сторінку"}),e.jsxs("div",{className:"copyProtection__buttons",children:[a&&e.jsxs("button",{className:"copyProtection__button copyProtection__button--primary",onClick:u,children:[e.jsx(x,{size:20}),"Поділитися"]}),e.jsx("button",{className:"copyProtection__button copyProtection__button--secondary",onClick:o,children:"Зрозумів"})]})]})]}):null};export{P as CopyProtectionModal,P as default};
